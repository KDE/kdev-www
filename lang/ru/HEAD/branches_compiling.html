<?php include_file("$lsv/cvsbranches.ihtml"); // this is a trick to pass a non-existing path to the include_file() ?>

<?php module_head("Инструкции для сборки версии KDevelop $k_series_version"); ?>
<ol>
<li>Перед тем как продолжать, необходимо убедиться в наличии <a href="index.html?filename=<?php echo $k_base_version; ?>/requirements.html">необходимого ПО</a>.</li>
<br>
<li>Получите исходный код ветки <b><?php echo $k_branch; ?></b> как показано ниже.</li>
<br>
<li>Инициализируйте систему сборки:
<dl>
<dd class="code">$ cd kdevelop</dd>
<dd class="code">$ make -f admin/Makefile.common cvs-clean</dd>
<dd class="code">$ make -f Makefile.cvs</dd>
</dl>
</li>
</ol>
<?php
  include_file("$k_base_version/compiling.ihtml");
  module_tail();
  module_head("Как обновлять версию");
?>
После загрузки и компиляции одной из перечисленных выше веток SVN
возможно проводить дальнейшие обновления.
<ol><li>Для уменьшения количества команд для набора
рекомендуется установить необходимые переменные окружения в файлах .bashrc
или .cshrc.
<ul>
<li>При использовании оболочки bash необходимо добавить следующие команды:
<dl>
<dd class="code">export KDEDIR=/путь/к/kde3</dd>
<dd class="code">export QTDIR=/путь/к/qt3</dd>
<dd class="code">export KDEVELOPDIR=/путь/куда/будет/установлен/kdevelop</dd>
<dd class="code">export KDEDIRS=$KDEVELOPDIR:$KDEDIR</dd>
<dd class="code">export LD_LIBRARY_PATH=$QTDIR/lib:$KDEDIR/lib:$LD_LIBRARY_PATH</dd>
<dd class="code">export LIBRARY_PATH=$QTDIR/lib:$KDEDIR/lib:$LIBRARY_PATH</dd>
<dd class="code">export PATH=$KDEVELOPDIR/bin:$QTDIR/bin:$KDEDIR/bin:$PATH</dd>
</dl></li>
<li>При использовании оболочки tcsh необходимо добавить следующие команды:
<dl>
<dd class="code">setenv KDEDIR /путь/к/kde3</dd>
<dd class="code">setenv QTDIR /путь/к/qt3</dd>
<dd class="code">setenv KDEVELOPDIR /путь/куда/будет/установлен/kdevelop</dd>
<dd class="code">setenv KDEDIRS $KDEVELOPDIR:$KDEDIR</dd>
<dd class="code">setenv LD_LIBRARY_PATH $QTDIR/lib:$KDEDIR/lib:$LD_LIBRARY_PATH</dd>
<dd class="code">setenv LIBRARY_PATH $QTDIR/lib:$KDEDIR/lib:$LIBRARY_PATH</dd>
<dd class="code">setenv PATH $KDEVELOPDIR/bin:$QTDIR/bin:$KDEDIR/bin:$PATH</dd>
</dl>
</li></ul>
<b>Заметка:</b> По очевидным причинам необходимо отредактировать первые две строки в соответствии с имеющейся конфигурацией! :)
</li>

<br>
<br>

<li>Далее необходимо перейти в каталог с кодом <i>kdevelop из SVN</i> и выполнить команду обновления:
<dl>
<dd class="code">$ cd kdevelop</dd>
<dd class="code">$ svn up</dd>
</dl>
</li>

<br>
<br>

<li>Следующий шаг зависит от вывода предыдущей команды:

<ul>
<li>Если в выводе присутствуют строки вида:
<dl>
<dd class="code">U /путь/Makefile.am</dd>
</dl>
то необходимо выполнить:
<dl>
<dd class="code">$ make -f Makefile.cvs</dd>
</dl>
Сразу после вызова ./configure
</li>

<br>
<br>

<li>
Если в выводе присутствуют строки вида:
<dl>
<dd class="code">P /путь/Makefile.am</dd>
</dl>
то необходимо выполнить:
<dl>
<dd class="code">$ ./configure --enable-debug=full --prefix=$KDEVELOPDIR --with-kdelibsdoxy-dir=$KDEDIR/share/doc/HTML/en/kdelibs-apidocs</dd>
</dl>
Используя теже опции ./configure которые вы использовали при сборке в первый раз
</li>
</ul>
</li>

<br>
<br>

<li>Сборка и инсталяция:
<dl>
<dd class="code">$ make</dd>
<dd class="code">$ make install (as root)</dd>
</dl>
Если по какой-либо причине команда make завершается неудачно, то можно игнорировать
ошибки указывая параметр -k:
<dl>
<dd class="code">$ make -k</dd>
<dd class="code">$ make -k install (as root)</dd>
</dl>
В зависимости от степени тяжести ошибки можно
получить как работающую так и неработающую версию kdevelop. Так что, используйте "make
-k install" на собственное усмотрение!!!. В любом случае такие ошибки обычно уходят через
пару часов, так что можно попытаться обновиться попозже перед
страшной :) командой make install.
</li></ol>

<br>
<br>

Вот и все! Теперь должна быть установлена последняя версия KDevelop. Для запуска выполнить:
<dl>
<dd class="code">$ kdevelop</dd>
</dl>

<p>Все, что необходимо делать для поддержки свежей версии - это повторять предыдущие шаги в случае
если кто-либо в списке рассылки <a href="index.html?filename=mailinglist.html">kdevelop-devel</a>
исправит ошибку.
Так что приглашаем <a href="index.html?filename=mailinglist.html">
подписаться на список рассылки</a>.</p>

<p>Ошибки следует сообщать с помощью <a
href="http://bugs.kde.org/wizard.cgi">формы сообщений об ошибках</a>. <b>Не следует</b> сообщать там об ошибках компиляции.
Для таких случаев необходимо использовать
<a href="index.html?filename=mailinglist.html">список рассылки</a>.
</p>

<p>Взглянуть на ошибки можно в <a
href="http://bugs.kde.org/buglist.cgi?product=kdevelop&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;order=bugs.component,bugs.bug_id">
базе данных об ошибках</a>.</p>

<?php
module_tail();
if ($lang == 'en') {
  $ts1 = filemtime("$k_base_version/branches_compiling.html");
  $ts2 = filemtime("cvsbranches.ihtml");
  $ts3 = filemtime("$k_base_version/compiling.ihtml");
} else {
  $ts1 = file_exists("lang/$lang/$k_base_version/branches_compiling.html")?filemtime("lang/$lang/$k_base_version/branches_compiling.html"):filemtime("$k_base_version/branches_compiling.html");
  $ts2 = file_exists("lang/$lang/cvsbranches.ihtml")?filemtime("lang/$lang/cvsbranches.ihtml"):filemtime("cvsbranches.ihtml");    
  $ts3 = file_exists("lang/$lang/$k_base_version/compiling.ihtml")?filemtime("lang/$lang/$k_base_version/compiling.ihtml"):filemtime("$k_base_version/compiling.ihtml");    
}
return (max($ts1,$ts2,$ts3));
?>